## 循环

### 循环处理流程

​	循环处理流程指循环内的全部代码，对任一次循环内处理，该代码文本都相同，但是会因为循环索引变量的改变导致具体处理部分的差异。本文将循环处理流程指定为整个循环的处理过程，而用循环内处理流程表示单次循环处理流程

​	循环处理流程是**顺序且原子的**，此原子性非操作系统中的概念。而是不考虑操作系统和调度程序，仅以程序本身处理流程看待，循环内处理流程是无法被打断的(不包括循环内部的break)。作为对比，递归则没有原子性，它可以由程序员在递归处理流程的任意地方进行递归打断原先的递归处理流程。

​	一个循环处理流程由任意个循环内处理流程组成，各个循环内出流程之间通常不相关联，比方各自处理数组某个成员，但这并不绝对，而是取决于程序员，也即程序控制流的设置。这点上递归也和循环一致，只不过递归通常各个流程之间互有关联。

​	因此若有循环关联的需要，一旦进入下个循环内处理流程，若没有进行处理流程间的同步，那么循环内处理流程之间将无法交互。但这是高度抽象后的理想情况，实际上循环内处理流程之间的同步方式非常多。

### 循环处理流程同步

- 变量：包括函数局部变量，全局变量，这些变量都可以在循环处理流程内直接访问并修改，循环处理流程之间通过访问变量进行同步

- 数据结构：和变量类似，并且通常整个循环就是在处理数据结构，而每个循环处理流程处理数据结构中的某一部分

- 队列、堆栈：此类本身为数据结构的一部分，但是它们本身在程序中通常只作为临时存储，而非最终的数据存储地方。因此循环处理流程可使用此类数据结构存放本次循环处理的数据，下次循环处理流程访问此类结构即可获取到上一次甚至前面多次的循环处理流程留下的数据，完成同步。队列堆栈比变量出彩的地方就在于可存放多次数据，要以变量方式实现多次处理数据的保存的话，则需要多个变量且处理时需要许多个判断，实现起来相当丑陋。队列堆栈比数组出彩的地方在于操作的规范，能降低编程时的不必要思考，也能方便他人理解代码。

- 队列先进先出，堆栈后进先出。当只需要上次循环数据时由于两者只存放一次的数据因此使用上没有差别。当存放多次数据时队列的处理流程是从头到尾处理，处理完存放数据后，就把数据重新入队让后续循环能够继续使用以前数据。堆栈是从尾到头处理，但是不同于队列，堆栈只能在全部处理完后再将数据依次压栈。

  

### 嵌套循环

​	嵌套循环有以下两种：

- 内循环划分外循环范围，使其处理单元越来越小
- 内循环与外循环处理范围互不干涉，在内循环中同时处理内外循环各自的单元

第一种嵌套通常循环的处理范围会随着嵌套层次的增加而越来越小，最常见的就是使用ij变量处理二维数组，其中i循环处理一整行，j循环处理改行里的某一块(列)。因此第一种嵌套循环一般层数有上限，可直接编程完毕。

第二种嵌套循环因为嵌套只是为了同时处理内外循环处理单元，所以存在循环嵌套层次变化甚至无穷的可能性，此时就无法直接编程适应所有情况，而需要将循环转化为递归等形式进行处理。

## 递归

### 递归处理流程

​	上文说过递归是非原子性的，因此递归有很多种情况，简单来说可分为四种：

- **单次调用尾递归**：递归调用发生在函数最后的处理流程上，并且一个函数仅调用自己一次或者函数代码最后有多个递归调用但调用之间互斥(比如使用if/else)，一个进程在这段代码上只能调用一次递归函数。单次调用尾递归是最简单的递归，通常循环都可以转为为单词调用尾递归。
- 单次调用递归：递归调用发生在函数非最后的任意处理流程上，并且仅调用自己一次。
- 多次调用递归：递归调用发生在函数非最后的任意处理流程上，并且会调用自己多次。该种是最复杂的递归，能获得最复杂的控制流，但是代码会非常难读，需要的代码功底要求也极高。
- 多次调用尾递归：递归调用发生在函数最后的处理流程上，但是一个函数可能会调用自己多次。这基本可以视作简化逻辑的多次调用递归

### 递归之间通信

​	递归是堆栈型的，不论是否尾递归，都必会返回最初的递归函数(仅从编程语言角度，不考虑编译器优化)，只有在void返回值类型的单词调用尾递归才能完全不考虑之前的函数，其余所有递归都需要考虑调用栈上的所有递归函数。因此设计递归函数时，不仅要考虑上个递归函数传递给下个递归函数的参数和方式，也要考虑下个递归函数返回给上个递归函数的方式和值，即要同时考虑两者的双向通信，这也是递归和循环最大的不同。下文将对上述四种递归依次讨论它们的双向通信方式，使用INPUT表示上个递归函数传递给下个，OUTPUT反之。

#### 单次调用尾递归：

- INPUT：函数参数，分为递归参数和递归修改参数。递归参数指递归函数中需要查看的参数，通常会把这些参数进行处理，再传给下个递归函数作为其的递归参数，直到达到递归结束条件。递归修改参数是递归本身需要修改的参数，或者说递归函数的目的就是对递归修改参数进行计算，递归修改参数可能是一个变量或者一个数据结构，取决于程序需要。递归修改参数通常为递归函数的输出或者输出之一。
- OUTPUT：递归返回值，基于这个特性有时也可利用返回值作为递归函数的输出，从而使递归处理流程先顺序处理逆序返回，而作为对比循环处理流程就是顺序处理顺序返回。有意思的在于对返回值的处理，若仅返回递归函数而没有其他任何额外计算，那么逆序返回就只会返回最后的递归函数的返回值，这个特点可以用在简单的单词调用尾递归函数上，将递归修改参数化为递归参数。然后将原本递归修改参数的值作为返回值返回

#### 单词调用递归：

- INPUT：函数参数，同单次调用尾递归
- OUTPUT：递归返回值和递归修改参数

#### void返回值无递归修改参数递归：

​	此类型没有返回值同时没有递归修改参数，因此仅有INPUT而没有OUTPUT。通常用作特定的控制流以调用某些函数，比如打印。常见的有打印二叉树等等。

## 队列

### 队列与循环

​	当循环处理单元本身还可以被分成同等权重的更小的处理单元时，通常我们会再用一层循环作为内循环进行嵌套，使其能划分原先的处理单元。因为单个循环单元的处理是**原子的**，所以一旦进入下个循环单元的处理，若没有进行处理流程间的同步